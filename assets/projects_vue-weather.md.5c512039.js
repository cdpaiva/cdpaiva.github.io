import{_ as e,c as a,o as t,a as r}from"./app.24a7e79c.js";var s="/assets/vue_weather.229caeed.png";const g='{"title":"Description","description":"","frontmatter":{},"headers":[{"level":2,"title":"Description","slug":"description"},{"level":2,"title":"Source code","slug":"source-code"},{"level":2,"title":"API Call","slug":"api-call"},{"level":2,"title":"API Key","slug":"api-key"},{"level":2,"title":"Code structure","slug":"code-structure"}],"relativePath":"projects/vue-weather.md"}',i={},o=r('<h1 id="vue-weather" tabindex="-1">vue-weather <a class="header-anchor" href="#vue-weather" aria-hidden="true">#</a></h1><img src="'+s+`" alt="vue-weather screenshot"><h2 id="description" tabindex="-1">Description <a class="header-anchor" href="#description" aria-hidden="true">#</a></h2><p>This is a project to illustrate fetching resources from an external API, processing the responses received and displaying information based on those responses. It uses Vue.js with the options API as the JS framework, axios as an HTTP client and Bulma as a CSS framework. I tried to follow the <a href="https://v2.vuejs.org/v2/style-guide/" target="_blank" rel="noopener noreferrer">Vue.js style guide</a> throughtout the code.</p><h2 id="source-code" tabindex="-1">Source code <a class="header-anchor" href="#source-code" aria-hidden="true">#</a></h2><p>Check the project <a href="https://github.com/cdpaiva/vue-weather" target="_blank" rel="noopener noreferrer">on github</a>. Feel free to change it, test it or break it. Feedback and ideas are always very much appreciated.</p><h2 id="api-call" tabindex="-1">API Call <a class="header-anchor" href="#api-call" aria-hidden="true">#</a></h2><p>The API used is the Weather API of <a href="https://openweathermap.org/api" target="_blank" rel="noopener noreferrer">OpenWeather</a>. The API is very well documented and using it is a matter of understanding how to properly build the URI with the required parameters. There are different API calls available for the Weather API, I chose to make a request using the city name and the desired temperature unit.</p><p>The complete call is:</p><div class="language-"><pre><code>https://api.openweathermap.org/data/2.5/weather?q={city-name}&amp;units=\${unit}&amp;appid={API key}
</code></pre></div><p>The <code>city-name</code> and the <code>unit</code> are inputs provided by the user, accessed using <code>v-model</code>, the cool vue directive that creates two-way data binding. More on this in the <a href="https://vuejs.org/guide/essentials/forms.html" target="_blank" rel="noopener noreferrer">Vue docs</a>.</p><p>In this case, the information is retrieved only when the user inputs a city, long after the page is created. A very common situation is to need to fetch data right when the page loads. We can use Vue&#39;s lifecycle hooks for this. The data fetching can be done inside <code>created()</code>. At this moment, the Options are read and can be modified, but the DOM is not mounted yet. Any data initialization that does not depend on the DOM can be done here.</p><h2 id="api-key" tabindex="-1">API Key <a class="header-anchor" href="#api-key" aria-hidden="true">#</a></h2><p>The <code>VUE_APP_API_KEY</code> is required by Weather API. Each user needs to provide a key. The solution for that is to set an <em>environment variable</em> when launching the app. In linux, for example, this would be done as so:</p><div class="language-bash"><pre><code><span class="token assign-left variable">VUE_APP_API_KEY</span><span class="token operator">=</span>insert_your_key_here <span class="token function">npm</span> run serve
</code></pre></div><p>If the app is ran without a key, the search is disabled and the user is instructed to re-run the app with the key. If we deployed the app, the key could be saved in production config vars, in Heroku, for example. Environment variables are a viable way of running code locally without having to hardcode the key.</p><h2 id="code-structure" tabindex="-1">Code structure <a class="header-anchor" href="#code-structure" aria-hidden="true">#</a></h2><p>The project was created using Vue CLI. The API calls are separated in the <em>weatherService</em> file. <em>App.vue</em> concenters the bulk of the code. It is responsible for fetching the search requests and to check if an API key is present.</p><p>The other components are rendered as children of App and are fairly straightforward:</p><ul><li>PromptForAPIKey: presents an error message if no API key is found</li><li>Seach: get user input and emits them to make the API calls</li><li>SearchFailed: displays messages in cases of not finding the city or errors during fetching</li><li>WeatherDisplay: receives the API response and presents data, using the images in the <em>assets</em> folder</li></ul>`,20),n=[o];function h(d,c,l,p,u,f){return t(),a("div",null,n)}var v=e(i,[["render",h]]);export{g as __pageData,v as default};
