<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Description | Carlos Damiani Paiva</title>
    <meta name="description" content="A personal blog to document public learning Vue.js and frontend development">
    <link rel="stylesheet" href="/assets/style.28b22cd2.css">
    <link rel="modulepreload" href="/assets/app.07f187a4.js">
    <link rel="modulepreload" href="/assets/projects_vue-weather.md.22e6182b.lean.js">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LDKM6H7G23"></script>
  <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LDKM6H7G23",{cookieFlags:"SameSite=None; Secure"});</script>
  <meta name="twitter:title" content="Description | Carlos Damiani Paiva">
  <meta property="og:title" content="Description | Carlos Damiani Paiva">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Carlos Damiani Paiva, back to home" data-v-675d8756 data-v-cc01ef16><!----> Carlos Damiani Paiva</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/projects/" data-v-b8818f8c>Projects <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/notes/" data-v-b8818f8c>Notes <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/about/" data-v-b8818f8c>About <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><div class="toggleTheme" data-v-54a98ccd>ðŸŒ™</div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/projects/" data-v-b8818f8c>Projects <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/notes/" data-v-b8818f8c>Notes <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/about/" data-v-b8818f8c>About <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Projects</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/projects/vue-weather">Vue Weather</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#description">Description</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#source-code">Source code</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#api-call">API Call</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#api-key">API Key</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#code-structure">Code structure</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/projects/vue-project-manager">Project Manager</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/projects/vue-puzzle-slider">Vue Puzzle Slider</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/notes/">Notes</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="vue-weather" tabindex="-1">vue-weather <a class="header-anchor" href="#vue-weather" aria-hidden="true">#</a></h1><p><img src="/assets/vue_weather.229caeed.png" alt=""></p><h2 id="description" tabindex="-1">Description <a class="header-anchor" href="#description" aria-hidden="true">#</a></h2><p>This is a project to illustrate fetching resources from an external API, processing the responses received and displaying information based on those responses. It uses Vue.js with the options API as the JS framework, axios as an HTTP client and Bulma as a CSS framework. I tried to follow the <a href="https://v2.vuejs.org/v2/style-guide/" target="_blank" rel="noopener noreferrer">Vue.js style guide</a> throughtout the code.</p><h2 id="source-code" tabindex="-1">Source code <a class="header-anchor" href="#source-code" aria-hidden="true">#</a></h2><p>Check the project <a href="https://github.com/cdpaiva/vue-weather" target="_blank" rel="noopener noreferrer">on github</a>. Feel free to change it, test it or break it. Feedback and ideas are always very much appreciated.</p><h2 id="api-call" tabindex="-1">API Call <a class="header-anchor" href="#api-call" aria-hidden="true">#</a></h2><p>The API used is the Weather API of <a href="https://openweathermap.org/api" target="_blank" rel="noopener noreferrer">OpenWeather</a>. The API is very well documented and using it is a matter of understanding how to properly build the URI with the required parameters. There are different API calls available for the Weather API, I chose to make a request using the city name and the desired temperature unit.</p><p>The complete call is:</p><div class="language-"><pre><code>https://api.openweathermap.org/data/2.5/weather?q={city-name}&amp;units=${unit}&amp;appid={API key}
</code></pre></div><p>The <code>city-name</code> and the <code>unit</code> are inputs provided by the user, accessed using <code>v-model</code>, the cool vue directive that creates two-way data binding. More on this in the <a href="https://vuejs.org/guide/essentials/forms.html" target="_blank" rel="noopener noreferrer">Vue docs</a>.</p><p>In this case, the information is retrieved only when the user inputs a city, long after the page is created. A very common situation is to need to fetch data right when the page loads. We can use Vue&#39;s lifecycle hooks for this. The data fetching can be done inside <code>created()</code>. At this moment, the Options are read and can be modified, but the DOM is not mounted yet. Any data initialization that does not depend on the DOM can be done here.</p><h2 id="api-key" tabindex="-1">API Key <a class="header-anchor" href="#api-key" aria-hidden="true">#</a></h2><p>The <code>VUE_APP_API_KEY</code> is required by Weather API. Each user needs to provide a key. The solution for that is to set an <em>environment variable</em> when launching the app. In linux, for example, this would be done as so:</p><div class="language-bash"><pre><code><span class="token assign-left variable">VUE_APP_API_KEY</span><span class="token operator">=</span>insert_your_key_here <span class="token function">npm</span> run serve
</code></pre></div><p>If the app is ran without a key, the search is disabled and the user is instructed to re-run the app with the key. If we deployed the app, the key could be saved in production config vars, in Heroku, for example. Environment variables are a viable way of running code locally without having to hardcode the key.</p><h2 id="code-structure" tabindex="-1">Code structure <a class="header-anchor" href="#code-structure" aria-hidden="true">#</a></h2><p>The project was created using Vue CLI. The API calls are separated in the <em>weatherService</em> file. <em>App.vue</em> concenters the bulk of the code. It is responsible for fetching the search requests and to check if an API key is present.</p><p>The other components are rendered as children of App and are fairly straightforward:</p><ul><li>PromptForAPIKey: presents an error message if no API key is found</li><li>Seach: get user input and emits them to make the API calls</li><li>SearchFailed: displays messages in cases of not finding the city or errors during fetching</li><li>WeatherDisplay: receives the API response and presents data, using the images in the <em>assets</em> folder</li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><!----></div><div class="next" data-v-38ede35f><a class="link" href="/projects/vue-project-manager" data-v-38ede35f><span class="text" data-v-38ede35f>Project Manager</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"about_index.md\":\"ce88c501\",\"index.md\":\"cd1b610a\",\"notes_git-aliases.md\":\"8f1b373f\",\"notes_index.md\":\"fa062d47\",\"projects_index.md\":\"45ad10f6\",\"projects_vue-project-manager.md\":\"49aac14c\",\"projects_vue-puzzle-slider.md\":\"935db93b\",\"projects_vue-weather.md\":\"22e6182b\"}")</script>
    <script type="module" async src="/assets/app.07f187a4.js"></script>
    
  </body>
</html>